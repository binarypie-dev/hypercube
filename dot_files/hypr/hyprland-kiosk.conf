# Hyprland Kiosk Mode Configuration
# Used for desktop kiosk mode applications
# - No keybindings (locked down)
# - Single fullscreen application
# - Exits when the application closes
#
# Usage: Set KIOSK_CMD environment variable before launching
#   KIOSK_CMD="your-app" Hyprland -c /path/to/hyprland-kiosk.conf

################
### MONITORS ###
################

# Enable all monitors - kiosk app shows on primary, others show wallpaper
monitor=,preferred,auto,auto

#################
### AUTOSTART ###
#################

# Wallpaper on all monitors
exec-once = hyprpaper -c /usr/share/hypercube/config/hypr/hyprpaper.conf

# Launch the kiosk application from environment variable
exec-once = $KIOSK_CMD

# Exit Hyprland when the last window closes
exec-once = handle=$(hyprctl -j clients | jq -r '.[0].address // empty'); while [ -n "$handle" ]; do sleep 0.5; handle=$(hyprctl -j clients | jq -r '.[0].address // empty'); done; hyprctl dispatch exit

#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24

#####################
### LOOK AND FEEL ###
#####################

general {
    gaps_in = 0
    gaps_out = 0
    border_size = 0
    col.active_border = rgba(00000000)
    col.inactive_border = rgba(00000000)
    resize_on_border = false
    allow_tearing = false
    layout = dwindle
}

decoration {
    rounding = 0
    active_opacity = 1.0
    inactive_opacity = 1.0
    shadow {
        enabled = false
    }
    blur {
        enabled = false
    }
}

animations {
    enabled = false
}

dwindle {
    pseudotile = false
    preserve_split = true
}

misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
}

#############
### INPUT ###
#############

input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    follow_mouse = 1
    sensitivity = 0
    touchpad {
        natural_scroll = false
    }
}

###################
### KEYBINDINGS ###
###################

# No keybindings - kiosk mode is locked down

##############################
### WINDOWS AND WORKSPACES ###
##############################

# Force all windows to fullscreen
windowrule = fullscreen, match:class .*
windowrule = nofocus, match:class ^$, match:title ^$
